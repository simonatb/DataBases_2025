--- 1 ---
SELECT COUNT(DISTINCT CLASS)
FROM CLASSES
WHERE TYPE = 'bb';

--- 2 ---
SELECT CLASS,AVG(NUMGUNS) AS AVG_GUNS
FROM CLASSES
WHERE TYPE = 'bb'
GROUP BY CLASS;

--- 3 ---
SELECT AVG(NUMGUNS) AS AVG_GUNS
FROM CLASSES;

--- 4 ---
SELECT CLASS,MIN(LAUNCHED) AS first, MAX(LAUNCHED) AS last
FROM SHIPS
GROUP BY CLASS;

--- 5 ---
SELECT CLASS,COUNT(*) AS NUM_SUNK
FROM SHIPS JOIN OUTCOMES ON SHIP = NAME
WHERE RESULT = 'sunk'
GROUP BY CLASS;

--- 6 ---
SELECT CLASS,COUNT(*) AS NUM_SUNK
FROM SHIPS JOIN OUTCOMES ON SHIP = NAME
WHERE RESULT = 'sunk' AND SHIPS.CLASS IN(SELECT CLASS FROM SHIPS GROUP BY CLASS HAVING COUNT(NAME)>2)
GROUP BY CLASS;

--- 7 ---
SELECT COUNTRY,AVG(BORE) AS AVG_BORE
FROM CLASSES JOIN SHIPS
ON CLASSES.CLASS = SHIPS.CLASS
GROUP BY CLASSES.COUNTRY;
